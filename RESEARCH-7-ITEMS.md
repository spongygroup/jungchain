# 정 (Jung) — 7개 미완성 항목 리서치 & 추천
> 작성일: 2025-02-15

---

## 1. 매칭 알고리즘

### 문제 정의
같은 타임존에 유저가 여러 명일 때, 체인을 누구에게 전달할 것인가? 한 명만? 여러 명 동시에? 선택 기준은?

### 유사 서비스 참고
- **Slowly**: 관심사/언어 기반 1:1 매칭. 유저가 "탐색"에서 직접 선택하거나 자동 매칭
- **BeReal**: 매칭 없음. 모든 친구에게 동시 브로드캐스트
- **Randonautica**: 완전 랜덤 — 의도적으로 예측불가성이 핵심
- **Bumble/Hinge**: ELO/호환성 스코어 기반 가중 랜덤

### 추천 방향

| 옵션 | 설명 | 장점 | 단점 |
|------|------|------|------|
| A. 가중 랜덤 | 정 스코어 높은 유저가 선택될 확률↑ | 성실한 유저 보상 | 신규 유저 소외 |
| B. 라운드로빈 | 순번제. 돌아가며 배정 | 공평 | 비활성 유저에게 걸리면 체인 끊김 |
| **C. 가중 랜덤 + 활성도 필터** | 최근 7일 내 참여 이력 있는 유저 중 랜덤 (정 스코어로 가중치) | 체인 생존율↑ + 공평성 | 비활성 유저는 점점 배제 |

**✅ 최종 추천: 옵션 C**
- 활성 유저 풀에서 정 스코어 가중 랜덤
- 한 타임존에서 **1명만** 선택 (릴레이 느낌 유지)
- 선택된 유저가 59분까지 미응답 시 → 차순위 유저에게 fallback → 그래도 없으면 AI

### MVP vs 풀버전
- **MVP**: 타임존당 유저 적으니 그냥 **랜덤 1명** + AI fallback
- **풀버전**: 정 스코어 가중 랜덤 + 활성도 필터 + fallback 체인

---

## 2. 콜드스타트 문제

### 문제 정의
초기에 대부분 타임존에 유저가 0명. 체인이 시작조차 안 됨. 릴레이인데 릴레이할 사람이 없음.

### 유사 서비스 참고
- **Slowly**: 초기에 운영진이 직접 편지를 보내 "첫 경험" 제공
- **Clubhouse**: 초대제로 특정 커뮤니티에 밀도를 집중
- **Discord**: 봇이 서버 활동을 채워 "활발해 보이게" 함
- **Reddit**: 창업자들이 가짜 계정으로 수천 개 글 작성

### 추천 방향

| 옵션 | 설명 |
|------|------|
| A. AI가 모든 빈 타임존 채움 | AI 정지기가 자연스럽게 메시지 작성. 유저는 사람/AI 구분 불가 |
| B. 타임존 스킵 | 유저 없는 타임존 건너뛰고 있는 곳끼리만 연결 |
| **C. AI 채움 + 점진적 대체** | 초기엔 AI가 대부분 채움. 유저가 들어오면 AI가 빠짐 |

**✅ 최종 추천: 옵션 C**
- 설계 문서의 철학과 완벽히 일치 ("사람인지 AI인지 구분 안 됨 → 그게 핵심")
- AI가 해당 타임존의 실제 날씨/시간 맥락을 반영한 메시지 작성
- 유저 비율 표시 안 함 (인위적 느낌 방지)

### MVP vs 풀버전
- **MVP**: 24개 타임존 중 유저 없는 곳은 **전부 AI**. 체인은 항상 24칸 완주 가능하게
- **풀버전**: AI 비율 자동 조절. 유저 밀도 높은 타임존에선 AI 완전 퇴장. AI가 채운 블록에는 내부적으로 `is_human: false` 태깅 (유저에겐 비공개)

---

## 3. 메시지 제한

### 문제 정의
너무 길면 릴레이/즉흥 느낌 상실. 너무 짧으면 의미 전달 불가. 멀티미디어 제한도 필요.

### 유사 서비스 참고
- **Twitter/X**: 280자 (짧은 즉흥 표현의 대명사)
- **BeReal**: 사진 1장 + 짧은 캡션
- **Slowly**: 제한 없음 (편지 컨셉)
- **텔레그램 스티커/음성**: 음성 메시지 무제한이지만 보통 15-60초

### 추천 방향

| 매체 | 추천 제한 | 근거 |
|------|----------|------|
| 텍스트 | **300자** (한/중/일) / **500자** (영문 등) | 트위터보다 약간 길게. "한 호흡"에 읽을 수 있는 분량 |
| 사진 | **1장** | BeReal처럼 "이 순간" 느낌. 여러 장이면 앨범이 됨 |
| 음성 | **30초** | 짧은 인사/분위기 전달. 30초 넘으면 팟캐스트 느낌 |
| 선택 | **하나만** | 텍스트 OR 사진 OR 음성. 복합 금지 → 릴레이 리듬 유지 |

**✅ 최종 추천: 위 표 그대로**
- "엽서 한 장" 비유 — 한 가지 매체로 한 순간을 전달
- 제한이 창의성을 만듦 (하이쿠, 트윗처럼)

### MVP vs 풀버전
- **MVP**: 텍스트 300자만 지원 (사진/음성은 Phase 2)
- **풀버전**: 텍스트/사진/음성 중 택 1. 프리미엄 유저는 텍스트+사진 조합 가능

---

## 4. 모더레이션

### 문제 정의
글로벌 + 익명 + 다국어 = 악용 위험 높음. 하지만 과도한 필터는 자유로운 표현을 막음.

### 유사 서비스 참고
- **Discord**: AutoMod (키워드 필터) + 유저 신고 + 모더레이터
- **BeReal**: AI 필터 + 사후 신고제
- **Whisper (익명 앱)**: AI + 커뮤니티 모더레이션. 그래도 문제 많았음
- **OpenAI Moderation API**: 무료, 다국어 지원, 카테고리별 분류

### 추천 방향

| 레이어 | 방법 | 시점 |
|--------|------|------|
| 1차 | **AI 자동 필터** (OpenAI Moderation API or Claude) | 메시지 전송 시 즉시 |
| 2차 | **유저 신고** (체인 열람 시 "신고" 버튼) | 사후 |
| 3차 | **수동 검토** (심각한 케이스) | 신고 누적 시 |

**✅ 최종 추천: 3-레이어**
- 1차: AI 필터로 명백한 욕설/혐오/성인물 자동 차단. 차단된 메시지는 AI가 대체
- 2차: 유저 신고 → 누적 3회 시 해당 유저 일시 정지
- 다국어: OpenAI Moderation API가 100+ 언어 지원. 충분

### MVP vs 풀버전
- **MVP**: OpenAI Moderation API 1차 필터만. 차단 시 AI 대체. 신고는 수동 처리
- **풀버전**: 3-레이어 풀 구현 + 유저 신뢰도 점수 + 반복 위반자 영구 차단

---

## 5. 알림 설계

### 문제 정의
24개 체인이 매 시간 돌고 있으니, 매 시간 알림이면 스팸. 안 보내면 참여율 0%.

### 유사 서비스 참고
- **BeReal**: 하루 1회 랜덤 시간에 알림. 이게 킬러 피처
- **Duolingo**: 하루 1회 리마인더 + 스트릭 압박
- **Slowly**: 편지 도착 시에만 알림
- **Wordle**: 알림 없음. 습관으로 정착

### 추천 방향

| 옵션 | 설명 |
|------|------|
| A. 체인 도착 시마다 | 배정된 체인이 올 때만 알림 (하루 1-3회) |
| B. 하루 1회 고정 | 유저가 설정한 시간에 "오늘의 정" 알림 |
| **C. 체인 도착 시 알림 (유저가 빈도 설정)** | 기본 하루 1회, 원하면 모든 배정 체인 알림 |

**✅ 최종 추천: 옵션 C**
- 기본값: **하루 1회** (유저의 타임존 정각 중 가장 활발한 시간대)
- 선택: "모든 체인 알림" / "하루 1회" / "알림 끄기"
- 완주 알림은 항상 ON (킬러 모멘트)

### MVP vs 풀버전
- **MVP**: 배정된 체인 도착 시 알림 (하루 1회만 배정하니까 1회). 완주 시 알림
- **풀버전**: 알림 빈도 설정 + 조용한 시간대 설정 + 완주/마일스톤 알림

---

## 6. 이탈 방지 (리텐션)

### 문제 정의
익명 + 낮은 소셜 압력 = 이탈하기 쉬움. 강제하면 "정" 철학에 어긋남.

### 유사 서비스 참고
- **Duolingo**: 스트릭 + 리그 + 캐릭터 감정 ("슬퍼하는 부엉이")
- **BeReal**: 안 찍으면 친구 사진 못 봄 (상호성)
- **Wordle**: 강제 0. 습관 + 공유 문화가 리텐션
- **Snapchat**: 스트릭 (🔥) — 청소년 리텐션 최강

### 추천 방향

| 전략 | 설명 | 정 철학 적합도 |
|------|------|---------------|
| 정 스트릭 | 연속 참여일수 표시. 끊겨도 벌칙 없음 | ⭐⭐⭐ |
| 체인 결과 알림 | "네가 참여한 체인이 15칸 더 갔어" → 기여감 | ⭐⭐⭐⭐ |
| 주간 회고 | "이번 주 네 메시지가 3대륙을 여행했어" | ⭐⭐⭐⭐ |
| **정이 쌓이는 시각화** | 지구본 위에 내가 참여한 체인 경로 누적 | ⭐⭐⭐⭐⭐ |

**✅ 최종 추천: 자극 없는 축적감**
- 강제/벌칙 0. "정"은 강요할 수 없음
- 핵심 리텐션 루프: **참여 → 결과 확인 (24h 뒤) → 기여감 → 다시 참여**
- 보조: 주간 회고 + 정 스코어 + 내 체인 지도

### MVP vs 풀버전
- **MVP**: 체인 결과 알림 ("네 체인이 12칸 여행했어") + 정 스코어 (숫자만)
- **풀버전**: 지구본 시각화 + 주간/월간 회고 + 정 레벨 시스템 + 완주 NFT 컬렉션

---

## 7. 동시성 처리

### 문제 정의
같은 타임존에 100명이 있고, 1명만 선택되는데, 정각에 동시에 "이어붙이기"를 누르면? 또는 체인이 도착하기 전에 미리 쓰려는 유저는?

### 유사 서비스 참고
- **Wikipedia**: 낙관적 잠금. 먼저 저장한 사람 우선, 충돌 시 머지
- **Google Docs**: 동시 편집 허용 (CRDT)
- **Auction sites**: 첫 입찰자 우선 (선착순)

### 추천 방향

| 옵션 | 설명 | 장점 | 단점 |
|------|------|------|------|
| A. 선착순 | 정각 후 첫 응답자만 채택 | 단순 | 느린 유저 박탈감 |
| B. 랜덤 1명 사전 배정 | 정각 전에 "이번 시간은 네 차례" 알림 | 충돌 0 | 배정받고 안 하면 낭비 |
| **C. 사전 배정 + fallback** | 1명 배정 → 30분 내 미응답 → 차순위에게 → AI | 안정적 | 약간 복잡 |

**✅ 최종 추천: 옵션 C (사전 배정 + fallback)**
- 정각에 체인 도착과 동시에 **1명에게만** 배정 알림
- 30분 타임아웃 → 차순위 유저에게 재배정 (15분 타임아웃)
- 45분까지 미응답 → AI가 이어붙임
- 배정 안 된 유저는 "이번 체인은 다른 사람이 이어붙이는 중" 표시

### MVP vs 풀버전
- **MVP**: 타임존당 유저 적으니 사실상 충돌 없음. 있는 유저 중 1명 배정 + AI fallback
- **풀버전**: 사전 배정 + 30/15분 fallback + 대기열 시스템. 배정 안 된 유저는 "응원 메시지" 남기기 가능 (체인에는 안 들어감)

---

## 요약 테이블

| # | 항목 | MVP 전략 | 풀버전 전략 |
|---|------|----------|------------|
| 1 | 매칭 | 랜덤 1명 + AI fallback | 정 스코어 가중 랜덤 + 활성도 필터 |
| 2 | 콜드스타트 | AI가 빈 타임존 전부 채움 | AI 비율 자동 조절, 점진적 퇴장 |
| 3 | 메시지 제한 | 텍스트 300자만 | 텍스트/사진/음성 택1 |
| 4 | 모더레이션 | AI 필터 1차만 | 3-레이어 (AI + 신고 + 수동) |
| 5 | 알림 | 배정 체인 도착 시 + 완주 시 | 빈도 설정 + 조용한 시간 + 마일스톤 |
| 6 | 이탈 방지 | 체인 결과 알림 + 정 스코어 | 지구본 시각화 + 회고 + NFT |
| 7 | 동시성 | 1명 배정 + AI fallback | 사전 배정 + 타임아웃 fallback 체인 |
